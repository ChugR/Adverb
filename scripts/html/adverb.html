<html>
<head>
<title>Project Adverb - Decode an AMQP Wireshark Trace (v2.3)</title>
</head>
<body>
<h1>Submission Form</h1>
<form method='POST' enctype='multipart/form-data' action='/cgi-bin/adverb.sh'>
<ul>
<li>Select the .pcapng file to upload<br>
<input type=file name=upfile></li>
<li>Additional ports to be decoded as AMQP.<br>
Space separated list of ports or port ranges; the <em>selectors</em> as specified in 
<a href="https://www.wireshark.org/docs/man-pages/tshark.html">tshark -d option</a> <br>
Examples: "8888" "20000:10 10000-10019" "10000 10010 10020"<br>
<input type=text name=selectors></li>
<li>Notes about the file: <br>
<input type=text name=note></li>
<li>Press Upload to view decoded AMQP streams<br>
<input type=submit value=Upload></li>
</ul>
</form>
<hr>
<h3>Introduction</h3>
Wireshark can capture network traffic traces and decode the various protocol's details.
Development versions of Wireshark include Pavel Moravec's AMQP 1.0 decoder. However, for one reason or another Qpid developers and other users often can't use the version of Wireshark that has the AMQP decoder support that they need. <br><br>
This server aims to soften the Wireshark version requirement by making it easy for users of any version of Wireshark to see the decoded AMQP stream.
<br><br>
Additionally, this tool presents metadata about AMQP frames and makes correlations that are tedious to discover using only Wireshark
<h3>Use Case</h3>
<ul>
<li>Run any version of Wireshark capable of saving .pcapng files.</li>
<li>Capture the network traffic containing the AMQP of interest; save a .pcapng file</li>
<li>Using the submission form select .pcapng file and upload it.</li>
<li>Observe the decoded AMQP stream(s) in a web format.</li>
</ul>
Note that this tool set is not intended to replicate capture and filtering features that are built into Wireshark. Using this tool one may find flows and packets of interest in giant .pcapng files but use Wireshark to further filter the source into smaller .pcapng files.
<h3>Generating capture files</h3>
Install any recent version of wireshark and use the <strong>tshark</strong> 'terminal shark' to generate pcapng files. For instance:
<ul>
<li>Install wireshark.<br><b>sudo yum install wireshark</b></li>
<li>Generate a trace.<br><b>sudo tshark -F pcapng -i lo -w /tmp/your-file.pcapng</b><br>
Tips: 
<ul>
<li>Save files to /tmp. SELinux prevents saving files to /home.</li>
<li>The example uses interface 'lo'. You may use any supported interface.</li>
</ul></li>
<li>Unprotect the file so that it may be uploaded.<br><b>sudo chmod 777 /tmp/your-file.pcapng</b></li>
</ul>
</body>
</html>
